@if (project.gallery; as gallery) {
  @if (gallery.length) {
  <section class="project-footage">
    <div class="project-footage__noise"></div>
    <div class="project-footage__container">
      <div class="project-footage__heading">
        <div class="project-footage__line"></div>
        <h2 class="project-footage__title">System Footage</h2>
        <div class="project-footage__line"></div>
      </div>
      <div class="project-footage__grid">
        @for (shot of gallery; track shot; let index = $index) {
          @if (galleryStyleFor(project.slug ?? '', shot.caption, index); as style) {
            <article class="project-footage__card {{ style.tilt }} {{ style.tape }}">
              <div class="project-footage__image">
                <img
                  [alt]="shot.caption"
                  class="project-footage__photo"
                  [ngSrc]="shot.src"
                  fill
                  sizes="(min-width: 1024px) 30vw, (min-width: 768px) 45vw, 90vw"
                />
              </div>
              <div class="project-footage__caption">
                <h3 class="project-footage__caption-title">{{ shot.caption }}</h3>
              </div>
            </article>
          }
        }
      </div>
    </div>
  </section>
  }
}
