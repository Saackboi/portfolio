@reference "../../../../../styles.css";

/* Contact form keeps the template dark block and sawtooth border. */
.contact-form {
  @apply bg-black p-1 shadow-[20px_20px_0px_0px_rgba(93,237,132,0.5)];
  position: relative;
}

.contact-form__shell {
  @apply bg-white dark:bg-gray-800 p-8 md:p-12 border-4 border-black;
  animation: float-gentle 8s ease-in-out infinite alternate;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  clip-path: var(--clip-zigzag-edge);
}

.contact-form__shell:hover {
  transform: translateY(-4px) rotate(1deg);
  box-shadow: 12px 12px 0 0 rgba(0, 0, 0, 1);
}

.contact-form__form {
  @apply space-y-6;
}

.contact-form__field {
  @apply flex flex-col gap-2;
}

.contact-form__label {
  font-family: var(--font-display);
  @apply text-xl text-black dark:text-white uppercase;
}

.contact-form__input {
  @apply w-full bg-gray-100 dark:bg-black border-4 border-black p-4 text-black dark:text-white outline-none;
}

.contact-form__input:focus {
  @apply bg-secondary/20;
}

.contact-form__input--invalid {
  border-color: #ff3b30;
  box-shadow: 0 0 0 3px rgba(255, 59, 48, 0.35);
}

.contact-form__input--textarea {
  @apply resize-none;
}

.contact-form__actions {
  @apply text-center;
}

.contact-form__submit {
  font-family: var(--font-display);
  @apply bg-primary text-white px-12 py-5 text-3xl uppercase border-4 border-black hover:bg-secondary hover:text-black transition-all shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] w-full;
}

.contact-form__submit:hover {
  transform: translateY(-3px) rotate(-1deg);
  box-shadow: 12px 12px 0 0 rgba(0, 0, 0, 1);
}

.contact-form__submit:disabled {
  @apply opacity-70 cursor-not-allowed;
  transform: none;
  box-shadow: 8px 8px 0 0 rgba(0, 0, 0, 1);
}

.contact-form__toast {
  font-family: var(--font-display);
  @apply uppercase text-sm border-4 border-black px-4 py-3;
  background-image: url("/assets/backgrounds/bg-paper-fibers.png");
  position: absolute;
  top: -1.25rem;
  right: -1rem;
  z-index: 30;
  max-width: 80%;
  animation: contact-form-toast-in 180ms ease-out;
}

.contact-form__toast--closing {
  animation: contact-form-toast-out 220ms ease-in forwards;
}

.contact-form__toast-text {
  position: relative;
  display: inline-block;
}

.contact-form__toast-text::before,
.contact-form__toast-text::after {
  content: attr(data-text);
  position: absolute;
  left: 0;
  top: 0;
  opacity: 0.7;
  pointer-events: none;
}

.contact-form__toast-text::before {
  transform: translate(-1px, -1px);
  color: #ff3b30;
  clip-path: inset(0 0 55% 0);
  animation: contact-form-glitch 1.2s infinite;
}

.contact-form__toast-text::after {
  transform: translate(1px, 1px);
  color: #00ffff;
  clip-path: inset(45% 0 0 0);
  animation: contact-form-glitch 1.1s infinite;
}

.contact-form__toast--success {
  @apply bg-secondary text-black;
  box-shadow: 6px 6px 0 0 rgba(0, 0, 0, 1);
}

.contact-form__toast--error {
  @apply bg-black text-white;
  border-color: #ff3b30;
  box-shadow: 0 0 16px rgba(255, 59, 48, 0.6);
}

@keyframes contact-form-toast-in {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes contact-form-toast-out {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-6px);
  }
}

@keyframes contact-form-glitch {
  0% {
    transform: translate(0, 0);
  }
  20% {
    transform: translate(-1px, 1px);
  }
  40% {
    transform: translate(1px, -1px);
  }
  60% {
    transform: translate(-1px, 0);
  }
  80% {
    transform: translate(1px, 1px);
  }
  100% {
    transform: translate(0, 0);
  }
}

@media (prefers-reduced-motion: reduce) {
  .contact-form__shell {
    animation: none;
  }

  .contact-form__shell {
    transition: none;
  }

  .contact-form__submit {
    transition: none;
  }
}

@media (max-width: 768px) {
  .contact-form__submit {
    @apply text-2xl;
  }

  .contact-form__toast {
    right: 0;
    left: 0;
    margin: 0 auto;
    top: -1.5rem;
  }
}
